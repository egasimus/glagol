(lambda (data)
  ((. (../../api "invoke" "sequencer/add" data) then)
    (lambda (data)
      (var sequencers (../../state/sequencers))
      (= (get sequencers data.id) (../../models/sequencer data))
      (../../state/sequencers/set sequencers))
    (../../lib/error (+ "error adding sequencer for " data))))
