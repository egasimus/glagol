(fn template-search [s]
  (let [h (.-h @vdom)]
    (h ".searcher" [
      (h "input.search"
        { :placeholder "search"
          :onkeyup     (fn [evt] (@search evt.target.value))
          :value       s.query })
      (h "output.results"
        (s.results.map (fn [i]
          (h ".result"
            { :dataset { :file i }
              :onclick (fn [evt] (@sampler-add evt.target.dataset.file)) }
            (.slice (i.split "/") -1))))) ])))
