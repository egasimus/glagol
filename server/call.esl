(lambda (path args)
  (return (call1 (path.split "/") ./api))
  (function call1 (path api)
    (if (> 1 path.length)
      (throw (Error "api: specify path"))
      (return (?: (< 1 path.length)
        (call1 (path.slice 1) (get api (. path 0)))
        (.apply (get api path) api args))))))
