(lambda (data)
  ((. (../../api/call "invoke" "sequencer/add" data) then)
    (lambda (track)
      (../../state/tracks/push (./models/track track))
      (console.log "created track" track)
      ((. (../../api/call "invoke" "sampler/add" track.id) then)
        (lambda (sampler))
        (err (+ "error adding sampler for " id))))
    (err (+ "error adding sequencer for " fullpath))))
