* 
  box-sizing border-box
  position   relative

body, input, button, table, select
  font-family Open Sans
  font-size 11px

body
  //background url('http://distortedarts.com/wp-content/uploads/2013/03/the-city-rises-1911.jpg')
  background-color #151617
  background-image url('/thangka')
  background-size cover
  background-position center center
  color #eee
  margin 0

  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;

select, input
  padding 0 3px
  background #111
  color #ddd
  border 1px solid #000
  border-radius 2px
  &:focus
    outline none
    border-color #aaa

label
  font-weight bold

label > select
  font-weight normal

.app
  display        flex
  flex-direction row
  height         100%
  outline none

.sidebar
  width 240px
  flex-shrink 0
  background rgba(0,0,0,0.5)
  height 100%
  display flex
  flex-direction column
  &-device, &-device-add
    line-height 12px
    padding 3px 6px
    text-shadow 0 1px 0 black
    cursor pointer
  &-device
    &-label
      font-weight bold
    &:hover
      background rgba(0,0,0,0.25)
  &-device-add
    font-weight bold
    border 1px solid rgba(0,0,0,0.3)
    margin 12px 6px 6px
    color #ddd
    &:hover
      border-color rgba(0,0,0,0.5)
      background rgba(0,0,0,0.1)
      color #fff

.main
  flex-grow 1

.flex
  display flex
  &.col
    flex-direction column
  &.row
    flex-direction row

/// BASIC CONTROLS

.knob
  width  24px
  height 24px
  border-radius 12px
  box-shadow 0 3px 3px rgba(0,0,0,0.5)
  background linear-gradient(to bottom, #333 0%, #222 100%);
  border-top    1px solid rgba(255,255,255,0.2)
  border-bottom 1px solid black
  border-left   none
  border-right  none
  position relative
  &:after
    content    ''
    position   absolute
    top        -1px
    bottom     70%
    left       50%
    width      1px
    background rgba(255,255,255,0.8)

.btngroup
  display flex
  min-height 30px

.btn
  display inline-block
  padding 2px 5px

  border 1px solid #111
  margin 6px 0 0 6px

  font-weight bold
  color rgba(255,255,255,0.9)
  &:hover
    color rgba(255,255,255,1)
  &:disabled
    color rgba(180,180,180,0.9)
    &:hover
      color rgba(180,180,180,0.9)
  text-shadow 0 1px 0 black
  cursor pointer

  background transparent
  &.green
    background #009b2a
  &:disabled
    background #303030

.prompt
  height  36px
  border none
  background #202020
  //background rgba(21,22,23,0.6)
  color white

  font-size 14px
  border-bottom 2px solid rgba(255,255,255,0.5);
  outline none
  text-align center

.overlay
  z-index 2
  position absolute
  top 0
  left 0
  right 0
  bottom 0
  background rgba(21,22,23,0.8)
  overflow auto

.results
  padding 0
  margin 0
  list-style none

  .result-group
    padding-top 6px
    &-header
      font-weight bold
      padding 0
    &-items
      list-style none
      margin 0
      padding 0

  .result
    padding 0
    margin 0
    cursor pointer
    &:hover
      background rgba(255,255,255,0.15)
    &-page
      cursor pointer
      display inline-block
      padding 0 3px
      margin 0 3px 3px 0
      background #222
      &:hover
        background #333

/// SEQUENCER

.tracks
  display table
  width 100%
  padding 3px

.track
  padding 12px 12px
  line-height 24px
  display table-row

  &-header,
  &-body
    display table-cell
    vertical-align top

  &-label
    background #222
    padding 0 6px
    color #ccc
    font-weight bold
    text-shadow 0 1px 0 black
    border-left 3px solid orangered

  &-controls
    display flex
    flex-direction row
    align-items center
    margin-bottom 6px
    margin-left 3px
    & .btn
      width 24px
      padding 0
      text-align center
    & .knob
      margin-left 6px

  .sequencer
    display flex
    flex-direction row

/// TOOLBAR

.toolbar
  z-index 1
  padding 0
  display flex
  flex-direction column

  &.bottom
    position fixed
    bottom 0
    left 0
    right 0
    width 100%
    padding-bottom 0
    display flex
    flex-direction row-reverse

/// LAUNCHER

.launcher
  margin-top 36px
  display flex
  flex-direction row
  justify-content center

  .track
    background rgba(0,0,0,0.3)
    display flex
    flex-direction column
    line-height 20px
    padding 0 0 0 3px
    &:first-child
      padding-left 0

    .track-name
      font-weight bold
      padding 2px 6px
      background linear-gradient(to bottom,rgba(0,0,0,0.0), rgba(0,0,0,0.5))
      text-shadow 0 2px 1px black

    .clip
      padding 2px 6px
      text-shadow 0 2px 1px black
      background rgba(0,0,0,0.5)
      transition background 0.2s ease-out
      cursor pointer
      &:hover
        background rgba(0,0,0,0.6)

/// CONTEXT MENU

.context-menu
  background #202020
  border     1px solid black
  box-shadow 3px 3px 3px rgba(0,0,0,0.5)

  display        flex
  flex-direction column

  opacity 0.8
  transition 0.2s all
  &:hover
    opacity 1

  &>a
    cursor     pointer
    display    inline-block
    padding    3px 6px
    &:hover
      background rgba(255,255,255,0.1)

  .separator
    height     1px
    background black
    margin     4px 3px


/// SESSION/PATCHBAY

.session
  width 100%
  display flex
  flex-direction column
  //flex-wrap wrap
  align-items stretch
  justify-content flex-start
  overflow auto
  padding-bottom 6px

  .device
    border-top    1px solid #303030
    border-left   1px solid #303030
    border-bottom 1px solid #101010
    border-right  1px solid #101010

    padding 6px 9px
    margin 6px 6px 0
    background rgba(32,32,32,0.95)
    flex-shrink 0

    &-header
      display flex
      flex-direction row
      justify-content space-between

    &-label
      background none
      border none
      border-bottom 1px dotted rgba(255,255,255,0.5)
      color white
      margin-bottom 3px
      font-size 14px
      &:hover, &:focus
        outline none
        background rgba(0,0,0,0.5)

    &-info, &-power
      display        inline-block
      text-align     center
      background     #333
      line-height    18px
      vertical-align middle
      height         18px
      cursor         pointer
      width          18px
      margin-left    6px

      &.active
        background   #009b2a 

    &-info
      font-size      16px

      &-dropdown
        cursor default
        font-size 11px
        z-index 1
        padding 6px 9px
        position absolute
        right 0
        background #333
        box-shadow 0 3px 3px black
        display flex
        flex-direction column

        &-option
          width 100%
          display flex
          flex-direction row
          justify-content space-between

          &-label
            font-weight  bold
            margin-right 9px

          &-value, &-button
            margin-left 9px

          &-button
            width      12px
            height     12px
            background #222
            margin-top 3px


/// DEVICE: SEQUENCER

.sequencer-piano
  width 100%
  background #111
  margin 3px 0 6px
  display flex
  flex-direction row
  overflow-y auto
  border 1px solid black
  &-body
    overflow-x auto
    display flex
    flex-direction column-reverse
    flex-grow 1
  &-note
    position absolute
    width 6.25%
    height 12px
    background orangered
    background linear-gradient(to bottom, orangered, red)
    cursor pointer
    z-index 1
    border-left 2px solid orangered
  &-keys
    width 30px
    display flex
    flex-direction column-reverse
  &-key
    color white
    flex-shrink 1
    padding 0 3px
    border-bottom 1px solid rgba(0,0,0,0.2)
    line-height 11px
    font-size 10px
    cursor pointer
    font-weight bold
    color #ddd
    height 12px
    &.white
      background #333
      &:hover
        background #555
    &.black
      background #080808
      &:hover
        background #181818
  &-lane, &-grid-lane
    width 100%
    height 12px
    border-top 1px dotted black
  &-grid
    &, &-bar, &-beat
      position absolute
      top 0
      bottom 0
      width 0px
      cursor crosshair
    &-bar
      border-left 1px solid black
    &-beat
      border-left 1px solid rgba(0,0,0,0.2)
      margin-left -1px
      display flex
      flex-direction column-reverse
    &-lane
      border-top none
      cursor crosshair
      &:hover
        background rgba(255,255,255,0.025)


.sequencer-steps
  display flex
  flex-direction row

.sequencer-step
  width 24px
  height 24px
  background rgba(0,0,0,0.5)
  margin 0 2px 0 0

  &.current
    border-bottom 3px solid orangered
    height 27px

  &:hover
    background rgba(0,0,0,0.2)

  &.active
    background linear-gradient(to bottom, orangered, red)

    &:hover
      opacity 0.5


/// DEVICE: SAMPLER

.sampler
  &-clips
    cursor default
    width 100%

  &-clip > td
    padding 5px 0
    vertical-align top

  &-clip-add
    display inline-block
    cursor pointer
    &:hover
      background rgba(255,255,255,0.1)

  &-clip, &-clip-add
    line-height 14px
    padding 5px 0


/// DEVICE: LIBRARY

.library
  input
    display block
    width 100%
    padding 6px


//////////////////////////////////////

//.toolbar
  //width      100%
  //background #070707
  //padding    6px

  //display         flex
  //justify-content space-between

  //.section
    //display flex

    //.btn
      //cursor  pointer
      //padding 3px 6px
      //margin  0 3px
      //&:hover
        //background rgba(0,0,0,0.3)

shadowed()
  box-shadow 0 3px 6px rgba(0,0,0,0.5);

red-button()
  transition      box-shadow 0.4s
  padding         6px 12px
  color           rgba(0,0,0,0.8)
  cursor          pointer
  text-align      center
  display         flex
  flex-direction  column
  justify-content space-between
  background      linear-gradient(to bottom, orangered, red)
  border-radius   2px
  border-top      1px solid rgba(255,255,255,0.5)
