(fn search [query]
  (let [fltr
          (fn [snd] (not (= -1
            (.index-of (snd.path.to-lower-case)
              (query.to-lower-case)))))
        results
          (if query
            (./data/filter fltr)
            ./data)]
    (log :found results.length :for query)
    (JSON.stringify results)))
